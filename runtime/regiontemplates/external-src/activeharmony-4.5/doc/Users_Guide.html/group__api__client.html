<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Active Harmony User&#39;s Guide: Tuning Client Setup Functions</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Active Harmony User&#39;s Guide
   &#160;<span id="projectnumber">4.5</span>
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.1.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__api__client.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Tuning Client Setup Functions</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga3f5c9e5009476354251ac27a9e0f4693"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__api__client.html#ga3f5c9e5009476354251ac27a9e0f4693">harmony_id</a> (hdesc_t *hdesc, const char *id)</td></tr>
<tr class="memdesc:ga3f5c9e5009476354251ac27a9e0f4693"><td class="mdescLeft">&#160;</td><td class="mdescRight">Assign an identifying string to this client.  <a href="#ga3f5c9e5009476354251ac27a9e0f4693"></a><br/></td></tr>
<tr class="memitem:ga429991a2b5c2ba152f5f42bf65e3ae00"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__api__client.html#ga429991a2b5c2ba152f5f42bf65e3ae00">harmony_bind_int</a> (hdesc_t *hdesc, const char *name, long *ptr)</td></tr>
<tr class="memdesc:ga429991a2b5c2ba152f5f42bf65e3ae00"><td class="mdescLeft">&#160;</td><td class="mdescRight">Bind a local variable of type <code>long</code> to an integer-domain session variable.  <a href="#ga429991a2b5c2ba152f5f42bf65e3ae00"></a><br/></td></tr>
<tr class="memitem:gaa776de20b52b5d365c66666abd08c1a1"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__api__client.html#gaa776de20b52b5d365c66666abd08c1a1">harmony_bind_real</a> (hdesc_t *hdesc, const char *name, double *ptr)</td></tr>
<tr class="memdesc:gaa776de20b52b5d365c66666abd08c1a1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Bind a local variable of type <code>double</code> to a real-domain session variable.  <a href="#gaa776de20b52b5d365c66666abd08c1a1"></a><br/></td></tr>
<tr class="memitem:ga07a67dd808853f0c7c260c5be1a9f152"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__api__client.html#ga07a67dd808853f0c7c260c5be1a9f152">harmony_bind_enum</a> (hdesc_t *hdesc, const char *name, const char **ptr)</td></tr>
<tr class="memdesc:ga07a67dd808853f0c7c260c5be1a9f152"><td class="mdescLeft">&#160;</td><td class="mdescRight">Bind a local variable of type <code>char *</code> to an enumerated string-based session variable.  <a href="#ga07a67dd808853f0c7c260c5be1a9f152"></a><br/></td></tr>
<tr class="memitem:ga668db156dd0ff627393baf08ce0a1585"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__api__client.html#ga668db156dd0ff627393baf08ce0a1585">harmony_join</a> (hdesc_t *hdesc, const char *host, int port, const char *sess)</td></tr>
<tr class="memdesc:ga668db156dd0ff627393baf08ce0a1585"><td class="mdescLeft">&#160;</td><td class="mdescRight">Join an established Harmony tuning session.  <a href="#ga668db156dd0ff627393baf08ce0a1585"></a><br/></td></tr>
<tr class="memitem:gaedb41472bf449383a3e5f062cfd04172"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__api__client.html#gaedb41472bf449383a3e5f062cfd04172">harmony_leave</a> (hdesc_t *hdesc)</td></tr>
<tr class="memdesc:gaedb41472bf449383a3e5f062cfd04172"><td class="mdescLeft">&#160;</td><td class="mdescRight">Leave a Harmony tuning session.  <a href="#gaedb41472bf449383a3e5f062cfd04172"></a><br/></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<p>These functions prepare the client to join an established tuning session. Specifically, variables within the client application must be bound to session variables. This allows the client to change appropriately upon fetching new points from the session. </p>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="ga07a67dd808853f0c7c260c5be1a9f152"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int harmony_bind_enum </td>
          <td>(</td>
          <td class="paramtype">hdesc_t *&#160;</td>
          <td class="paramname"><em>hdesc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char **&#160;</td>
          <td class="paramname"><em>ptr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Bind a local variable of type <code>char *</code> to an enumerated string-based session variable. </p>
<p>This function associates a local variable with a session variable declared using <a class="el" href="group__api__sess.html#gad1447c1e2132fbc675305c0b16438247" title="Add an enumeration variable and append to the list of valid values in this set.">harmony_enum()</a>. Upon <a class="el" href="group__api__runtime.html#gaed29a29f76e02d4477d95bbaf0564cf6" title="Fetch a new configuration from the Harmony server.">harmony_fetch()</a>, the value chosen by the session will be stored at the address <code>ptr</code>.</p>
<p>This function must be called for each string-based variable defined in the joining session. Otherwise <a class="el" href="group__api__client.html#ga668db156dd0ff627393baf08ce0a1585" title="Join an established Harmony tuning session.">harmony_join()</a> will fail when called.</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">hdesc</td><td>Harmony descriptor returned from <a class="el" href="group__api__desc.html#gaee51d9eb6bc424581aeb1639058f2ff0" title="Allocate and initialize a new Harmony descriptor.">harmony_init()</a>. </td></tr>
    <tr><td class="paramname">name</td><td>Session variable defined using <a class="el" href="group__api__sess.html#gad1447c1e2132fbc675305c0b16438247" title="Add an enumeration variable and append to the list of valid values in this set.">harmony_enum()</a>. </td></tr>
    <tr><td class="paramname">ptr</td><td>Pointer to a local <code>char *</code> variable that will hold the current testing value.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>Returns a harmony descriptor on success, and -1 otherwise. </dd></dl>

</div>
</div>
<a class="anchor" id="ga429991a2b5c2ba152f5f42bf65e3ae00"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int harmony_bind_int </td>
          <td>(</td>
          <td class="paramtype">hdesc_t *&#160;</td>
          <td class="paramname"><em>hdesc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long *&#160;</td>
          <td class="paramname"><em>ptr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Bind a local variable of type <code>long</code> to an integer-domain session variable. </p>
<p>This function associates a local variable with a session variable declared using <a class="el" href="group__api__sess.html#ga146f9e67c69a36dfb20967157c484b9b" title="Add an integer-domain variable to the Harmony session.">harmony_int()</a>. Upon <a class="el" href="group__api__runtime.html#gaed29a29f76e02d4477d95bbaf0564cf6" title="Fetch a new configuration from the Harmony server.">harmony_fetch()</a>, the value chosen by the session will be stored at the address <code>ptr</code>.</p>
<p>This function must be called for each integer-domain variable defined in the joining session. Otherwise <a class="el" href="group__api__client.html#ga668db156dd0ff627393baf08ce0a1585" title="Join an established Harmony tuning session.">harmony_join()</a> will fail when called.</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">hdesc</td><td>Harmony descriptor returned from <a class="el" href="group__api__desc.html#gaee51d9eb6bc424581aeb1639058f2ff0" title="Allocate and initialize a new Harmony descriptor.">harmony_init()</a>. </td></tr>
    <tr><td class="paramname">name</td><td>Session variable defined using <a class="el" href="group__api__sess.html#ga146f9e67c69a36dfb20967157c484b9b" title="Add an integer-domain variable to the Harmony session.">harmony_int()</a>. </td></tr>
    <tr><td class="paramname">ptr</td><td>Pointer to a local <code>long</code> variable that will hold the current testing value.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>Returns a harmony descriptor on success, and -1 otherwise. </dd></dl>

</div>
</div>
<a class="anchor" id="gaa776de20b52b5d365c66666abd08c1a1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int harmony_bind_real </td>
          <td>(</td>
          <td class="paramtype">hdesc_t *&#160;</td>
          <td class="paramname"><em>hdesc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>ptr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Bind a local variable of type <code>double</code> to a real-domain session variable. </p>
<p>This function associates a local variable with a session variable declared using <a class="el" href="group__api__sess.html#ga4e194a2691983bc74ff178588cacafe9" title="Add a real-domain variable to the Harmony session.">harmony_real()</a>. Upon <a class="el" href="group__api__runtime.html#gaed29a29f76e02d4477d95bbaf0564cf6" title="Fetch a new configuration from the Harmony server.">harmony_fetch()</a>, the value chosen by the session will be stored at the address <code>ptr</code>.</p>
<p>This function must be called for each real-domain variable defined in the joining session. Otherwise <a class="el" href="group__api__client.html#ga668db156dd0ff627393baf08ce0a1585" title="Join an established Harmony tuning session.">harmony_join()</a> will fail when called.</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">hdesc</td><td>Harmony descriptor returned from <a class="el" href="group__api__desc.html#gaee51d9eb6bc424581aeb1639058f2ff0" title="Allocate and initialize a new Harmony descriptor.">harmony_init()</a>. </td></tr>
    <tr><td class="paramname">name</td><td>Session variable defined using <a class="el" href="group__api__sess.html#ga4e194a2691983bc74ff178588cacafe9" title="Add a real-domain variable to the Harmony session.">harmony_real()</a>. </td></tr>
    <tr><td class="paramname">ptr</td><td>Pointer to a local <code>double</code> variable that will hold the current testing value.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>Returns a harmony descriptor on success, and -1 otherwise. </dd></dl>

</div>
</div>
<a class="anchor" id="ga3f5c9e5009476354251ac27a9e0f4693"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int harmony_id </td>
          <td>(</td>
          <td class="paramtype">hdesc_t *&#160;</td>
          <td class="paramname"><em>hdesc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Assign an identifying string to this client. </p>
<p>Set the client identification string. All messages sent to the tuning session will be tagged with this string, allowing the framework to distinguish clients from one another. As such, care should be taken to ensure this string is unique among all clients participating in a tuning session.</p>
<p>By default, a string is generated from the hostname, process id, and socket descriptor.</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">hdesc</td><td>Harmony descriptor returned from <a class="el" href="group__api__desc.html#gaee51d9eb6bc424581aeb1639058f2ff0" title="Allocate and initialize a new Harmony descriptor.">harmony_init()</a>. </td></tr>
    <tr><td class="paramname">id</td><td>Unique identification string.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>Returns 0 on success, and -1 otherwise. </dd></dl>

</div>
</div>
<a class="anchor" id="ga668db156dd0ff627393baf08ce0a1585"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int harmony_join </td>
          <td>(</td>
          <td class="paramtype">hdesc_t *&#160;</td>
          <td class="paramname"><em>hdesc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>host</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>sess</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Join an established Harmony tuning session. </p>
<p>Establishes a connection with the Harmony Server on a specific host and port, and joins the named session. All variables must be bound to local memory via harmony_bind() for this call to succeed.</p>
<p>If <code>host</code> is <code>NULL</code> or <code>port</code> is 0, values from the environment variable <code>HARMONY_S_HOST</code> or <code>HARMONY_S_PORT</code> will be used, respectively. If either environment variable is not defined, values from defaults.h will be used as a last resort.</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">hdesc</td><td>Harmony descriptor returned from <a class="el" href="group__api__desc.html#gaee51d9eb6bc424581aeb1639058f2ff0" title="Allocate and initialize a new Harmony descriptor.">harmony_init()</a>. </td></tr>
    <tr><td class="paramname">host</td><td>Host of the Harmony server. </td></tr>
    <tr><td class="paramname">port</td><td>Port of the Harmony server. </td></tr>
    <tr><td class="paramname">sess</td><td>Name of an existing tuning session on the server.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>Returns 0 on success, and -1 otherwise. </dd></dl>

</div>
</div>
<a class="anchor" id="gaedb41472bf449383a3e5f062cfd04172"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int harmony_leave </td>
          <td>(</td>
          <td class="paramtype">hdesc_t *&#160;</td>
          <td class="paramname"><em>hdesc</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Leave a Harmony tuning session. </p>
<p>End participation in a Harmony tuning session by closing the connection to the Harmony server.</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">hdesc</td><td>Harmony descriptor returned from <a class="el" href="group__api__desc.html#gaee51d9eb6bc424581aeb1639058f2ff0" title="Allocate and initialize a new Harmony descriptor.">harmony_init()</a>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>Returns 0 on success, and -1 otherwise. </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.1.1 </li>
  </ul>
</div>
</body>
</html>
